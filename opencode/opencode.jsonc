// https://opencode.ai/docs/config/
{
	"$schema": "https://opencode.ai/config.json",
	"instructions": ["AGENTS.md", "packages/*/AGENTS.md"],
	"default_agent": "servant",
	"agent": {
		"servant": {
			"description": "Full-access agent for development tasks",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7",
			"prompt": "{file:/ai/prompts/servant.md}",
			"tools": {
				"write": true,
				"edit": true,
				"bash": true
			}
		},
		"build": {
			"description": "Build-focused agent with full access",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7",
			"prompt": "{file:/ai/prompts/gemini-king-mode.md}",
			"tools": {
				"write": true,
				"edit": true,
				"bash": true
			}
		},
		"plan": {
			"description": "Planning-only agent, no write/edit/bash access",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7",
			"prompt": "{file:/ai/prompts/gemini-king-mode.md}",
			"tools": {
				"write": false,
				"edit": false,
				"bash": false
			}
		}
	},
	"permission": {
		"edit": "ask",
		"bash": "ask"
	},
	"watcher": {
		"ignore": ["node_modules/**", "dist/**", ".git/**", ".svelte-kit/**", "build/**", "__gen__/**"]
	},
	"compaction": {
		"auto": true,
		"prune": true
	},
	"formatter": {
		"dprint": {
			"command": ["dprint", "fmt", "$FILE"],
			"extensions": [".svelte", ".ts", ".js", ".tsx", ".jsx", ".html", ".css", ".json", ".yaml", ".md"]
		},
		"prettier": {
			"disabled": true
		}
	}
}
