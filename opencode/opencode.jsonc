{
	"$schema": "https://opencode.ai/config.json",
	"theme": "lucent-orng",
	"instructions": [
		"/ai/AGENTS_ALL.md",
		"AGENTS.md"
	],
	"tui": {
		"scroll_acceleration": {
			"enabled": true  // macOS-style momentum scrolling
		}
	},
	"default_agent": "tens",
	"agent": {
		"build": {
			"description": "Build-focused agent with full access and more steps",
			"mode": "primary",
			"model": "github-copilot/gemini-3-flash-preview",
			"prompt": "{file:/ai/prompts/medrivia.md}",
			"tools": {
				"write": true,
				"edit": true,
				"bash": true
			}
		},
		"tens": {
			"description": "Small build-focused agent with full access",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7",
			"steps": 20,
			"prompt": "{file:/ai/prompts/medrivia.md}",
			"tools": {
				"write": true,
				"edit": true,
				"bash": true
			}
		},
		"plan": {
			"description": "Planning-only agent, no write/edit/bash access",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7",
			"prompt": "{file:/ai/prompts/medrivia.md}",
			"tools": {
				"write": false,
				"edit": false,
				"bash": true
			}
		},
		"flash": {
			"description": "Quick stuff",
			"mode": "primary",
			"model": "zai-coding-plan/glm-4.7-flash",
			"tools": {
				"write": false,
				"edit": false,
				"bash": false
			}
		},
		"explore": {
			"disable": true
		},
		"general": {
			"disable": true
		}
	},
	"permission": {
		"external_directory": "allow",
		"edit": "allow",
		"bash": "allow"
	},
	"watcher": {
		"ignore": [
			"node_modules/**",
			"dist/**",
			".git/**",
			".svelte-kit/**",
			"build/**",
			"__gen__/**"
		]
	},
	"compaction": {
		"auto": true,
		"prune": true
	},
	"formatter": {
		"dprint": {
			"command": [
				"dprint",
				"fmt",
				"$FILE"
			],
			"extensions": [
				".svelte",
				".ts",
				".js",
				".tsx",
				".jsx",
				".html",
				".css",
				".json",
				".yaml",
				".md"
			]
		},
		"prettier": {
			"disabled": true
		}
	},
	"plugin": [
		"openslimedit",
		"@sveltejs/opencode",
		"oh-my-opencode-slim"
	],
	"mcp": {
		"kernel": {
			"type": "remote",
			"url": "https://mcp.onkernel.com/mcp",
		},
		"nushell": {
			"type": "local",
			"command": [
				"nu", "--mcp"
			]
		},
		"svelte": {
			"type": "local",
			"command": [
				"svelte-mcp"
			]
		},
		// Docs lookup for libraries - https://context7.com
		"context7": {
			"type": "remote",
			"url": "https://mcp.context7.com/mcp"
		},
		// Web fetching - MCP official server (Python via uvx)
		"fetch": {
			"type": "local",
			"command": ["uvx", "mcp-server-fetch"]
		},
		"searxng": {
			"type": "local",
			"command": ["mcp-searxng"],
			"env": {
				"SEARXNG_URL": "https://searxng.cups.moe"
			}
		}
	},
	"lsp": {
		"qmlls": {
			"command": ["qmlls6", "-E"],
			"extensions": [".qml"]
		},
		"nushell": {
			"command": ["nu", "--lsp"],
			"extensions": [".nu"]
		}
	},
	"provider": {
		"ollama": {
			"npm": "@ai-sdk/openai-compatible",
			"name": "Ollama",
			"options": {
				"baseURL": "http://localhost:11434/v1"
			},
			"models": {
				"nomic-embed-text": {
					"name": "nomic-embed-text"
				}
			}
		}
	}
}
